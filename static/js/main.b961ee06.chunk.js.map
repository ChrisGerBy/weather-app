{"version":3,"sources":["helpers/helper.js","components/CurrentConditions/messages.js","components/CurrentConditions/index.js","components/CurrentConditions/CurrentConditions.js","components/Forecast/messages.js","components/Forecast/index.js","components/Forecast/Forecast.js","components/TemperatureScale/index.js","components/TemperatureScale/TemperatureScale.js","components/SearchLocation/messages.js","components/SearchLocation/index.js","components/SearchLocation/SearchLocation.js","components/Weather/messages.js","components/NoDataView/index.js","components/NoDataView/NoDataView.js","components/Weather/Weather.js","components/Weather/index.js","components/Settings/index.js","components/Settings/Settings.js","components/LocationData/messages.js","components/LocationData/LocationData.js","components/Modal/Modal.js","components/Modal/index.js","App.js","serviceWorker.js","index.js"],"names":["getTime","str","split","slice","join","getDate","reverse","convertTemperature","temperature","targetScale","Math","ceil","createWeatherIconLink","num","toString","length","formatTimeZone","defineMessages","location","id","defaultMessage","date","weather","showLocationInfo","CurrentConditions","currentConditions","city","temperatureScale","onChageTemperatureScale","country","WeatherText","LocalObservationDateTime","Temperature","WeatherIcon","TableContainer","className","Table","TableBody","TableRow","TableCell","component","scope","messages","Button","variant","onClick","src","alt","Metric","Value","Imperial","Tooltip","title","interactive","arrow","type","Icon","day","night","Forecast","forecast","map","key","nightIcon","text","picture","dayIcon","fromC","fromF","toC","toF","TemperatureScale","changeTemperatureScale","Select","value","onChange","MenuItem","searchPlaceholder","searchButton","SearchLocation","cityOnChange","searchLocation","placeholder","Input","event","color","getForecast","NoDataView","require","config","Weather","props","e","target","locationData","state","setState","handleWeatherResponse","data","currentCity","forecastData","getForecastFor5Days","getWeatherData","a","async","locationKey","language","fetch","process","currentConditionsResponse","json","status","currentConditionsResponseEN","currentConditionsEN","setLocationDataState","LocalizedName","Key","Country","geoPosition","latitude","GeoPosition","Latitude","longitude","Longitude","region","Region","timeZone","TimeZone","Name","GmtOffset","locationFound","window","localStorage","setItem","response","cityData","responseEn","cityDataEn","removeItem","getCityName","coords","url","responseData","results","components","DailyForecasts","Date","time","Minimum","Unit","Maximum","Day","IconPhrase","Night","this","getItem","navigator","geolocation","getCurrentPosition","console","log","prevProps","prevState","Object","entries","Component","Settings","changeLanguage","getBackground","backgroundError","timezone","geoposition","LocationData","hideModal","allowFullScreen","modalRoot","document","getElementById","Modal","el","createElement","appendChild","removeChild","ReactDOM","createPortal","React","ru","messagesRu","en","messagesEn","App","then","res","image","floor","random","urls","raw","background","catch","error","showModal","backgroundPicture","backgroundImage","backgroundSize","locale","style","lang","Boolean","hostname","match","path","render","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.b961ee06.chunk.js","sourcesContent":["export const getTime = (str) => str.split('').slice(11, 16).join('');\n\nexport const getDate = (str) => str.split('').slice(0, 10).join('').split('-')\n  .reverse()\n  .join('.');\n\nexport const convertTemperature = (temperature, targetScale) => (\n  targetScale === 'fahrenheit'\n    ? Math.ceil((temperature * 9 / 5 + 32))\n    : Math.ceil(((temperature - 32) * 5 / 9))\n);\n\nexport const createWeatherIconLink = (num) => ((num.toString().length < 2)\n  ? `https://developer.accuweather.com/sites/default/files/0${num}-s.png`\n  : `https://developer.accuweather.com/sites/default/files/${num}-s.png`);\n\nexport const formatTimeZone = (num) => (\n  num > 0\n    ? `(GMT +${num})`\n    : `(GMT ${num})`\n);\n","import { defineMessages } from 'react-intl';\n\nexport default defineMessages({\n  location: {\n    id: 'currentConditions.location',\n    defaultMessage: 'Location',\n  },\n  date: {\n    id: 'currentConditions.date',\n    defaultMessage: 'Date',\n  },\n  weather: {\n    id: 'currentConditions.weather',\n    defaultMessage: 'Current weather',\n  },\n  temperature: {\n    id: 'currentConditions.temperature',\n    defaultMessage: 'Temperature',\n  },\n  showLocationInfo: {\n    id: 'currentConditions.showLocationInfo',\n    defaultMessage: 'Show location info',\n  },\n});\n","import CurrentConditions from './CurrentConditions';\n\nexport default CurrentConditions;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {\n  TableContainer, Table, TableBody, TableRow, TableCell, Icon, Tooltip, Button,\n} from '@material-ui/core';\nimport { FormattedMessage } from 'react-intl';\nimport { getTime, getDate, createWeatherIconLink } from '../../helpers/helper';\n\nimport './CurrentConditions.styles.css';\nimport messages from './messages';\n\nconst CurrentConditions = ({\n  currentConditions, city, temperatureScale, onChageTemperatureScale, country, showLocationInfo,\n}) => {\n  const {\n    WeatherText, LocalObservationDateTime, Temperature, WeatherIcon,\n  } = currentConditions;\n\n  return (\n    <TableContainer className=\"weather_data\">\n      <Table>\n        <TableBody>\n          <TableRow>\n            <TableCell component=\"th\" scope=\"row\"><FormattedMessage {...messages.location} /></TableCell>\n            <TableCell>\n              {city}\n              {', '}\n              {country}\n              <Button variant=\"outlined\" className=\"weather_data_location-info\" onClick={showLocationInfo}>\n                <FormattedMessage {...messages.showLocationInfo}/>\n              </Button>\n            </TableCell>\n          </TableRow>\n          <TableRow>\n            <TableCell component=\"th\" scope=\"row\"><FormattedMessage {...messages.date} /></TableCell>\n            <TableCell>\n              {getDate(LocalObservationDateTime)}\n              {', '}\n              {getTime(LocalObservationDateTime)}\n            </TableCell>\n          </TableRow>\n          <TableRow>\n            <TableCell component=\"th\" scope=\"row\"><FormattedMessage {...messages.weather} /></TableCell>\n            <TableCell className=\"weather_data_current-weather\">\n              <img src={createWeatherIconLink(WeatherIcon)} alt=\"weather-icon\" />\n              <span>{WeatherText}</span>\n            </TableCell>\n          </TableRow>\n          <TableRow>\n            <TableCell component=\"th\" scope=\"row\"><FormattedMessage {...messages.temperature} /></TableCell>\n            <TableCell>\n              <span>{temperatureScale === 'celsium' ? `${Temperature.Metric.Value} °C` : `${Temperature.Imperial.Value} F`}</span>\n              <Tooltip title={temperatureScale === 'celsium' ? 'Convert to fahrenheit' : 'Convert to celsium'} interactive arrow>\n                <button className=\"weather_data_tempscale-btn\" type=\"button\" onClick={onChageTemperatureScale}>\n                  <Icon>cached</Icon>\n                </button>\n              </Tooltip>\n            </TableCell>\n          </TableRow>\n        </TableBody>\n      </Table>\n    </TableContainer>\n  );\n};\n\nCurrentConditions.propTypes = {\n  city: PropTypes.string.isRequired,\n  temperatureScale: PropTypes.string.isRequired,\n  onChageTemperatureScale: PropTypes.func.isRequired,\n  currentConditions: PropTypes.shape({\n    WeatherText: PropTypes.string.isRequired,\n    LocalObservationDateTime: PropTypes.string.isRequired,\n    Temperature: PropTypes.object.isRequired,\n    WeatherIcon: PropTypes.number.isRequired,\n  }).isRequired,\n  country: PropTypes.string,\n  showLocationInfo: PropTypes.func.isRequired,\n};\n\nexport default CurrentConditions;\n","import { defineMessages } from 'react-intl';\n\nexport default defineMessages({\n  day: {\n    id: 'forecast.day',\n    defaultMessage: 'Day',\n  },\n  night: {\n    id: 'forecast.night',\n    defaultMessage: 'Night',\n  },\n});\n","import Forecast from './Forecast';\n\nexport default Forecast;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport './Forecast.styles.css';\nimport { Tooltip } from '@material-ui/core';\nimport { FormattedMessage } from 'react-intl';\n\nimport messages from './messages';\n\nconst Forecast = ({ forecast, temperatureScale }) => (\n  <div className=\"forecast\">\n    {forecast.map((day) => (\n      <div className=\"forecast_item\" key={day.date}>\n        <p className=\"forecast_item_date\">{day.date}</p>\n        <div className=\"forecast_item_icons\">\n          <div className=\"forecast_item_temp_block\">\n            <p><FormattedMessage {...messages.night} /></p>\n            <Tooltip title={day.nightIcon.text} interactive arrow>\n              <img src={day.nightIcon.picture} alt=\"night-icon\" />\n            </Tooltip>\n          </div>\n          <div className=\"forecast_item_icons_block\">\n            <p><FormattedMessage {...messages.day} /></p>\n            <Tooltip title={day.dayIcon.text} interactive arrow>\n              <img src={day.dayIcon.picture} alt=\"day-icon\" />\n            </Tooltip>\n          </div>\n        </div>\n        <div className=\"forecast_item_temperature\">\n          <p>{temperatureScale === 'celsium' ? `${day.temperature.fromC} °C` : `${day.temperature.fromF} F`}</p>\n          <p>{temperatureScale === 'celsium' ? `${day.temperature.toC} °C` : `${day.temperature.toF} F`}</p>\n        </div>\n\n      </div>\n    ))}\n  </div>\n);\n\nForecast.propTypes = {\n  forecast: PropTypes.arrayOf(PropTypes.object).isRequired,\n  temperatureScale: PropTypes.string.isRequired,\n};\n\nexport default Forecast;\n","import TemperatureScale from './TemperatureScale';\n\nexport default TemperatureScale;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Select from '@material-ui/core/Select';\nimport { FormattedMessage } from 'react-intl';\n\nconst TemperatureScale = ({ changeTemperatureScale, temperatureScale }) => (\n  <Select\n    value={temperatureScale}\n    onChange={changeTemperatureScale}\n  >\n    <MenuItem value=\"celsium\"><FormattedMessage id=\"temperature.scale.celsium\" defaultMessage=\"Celsium\" /></MenuItem>\n    <MenuItem value=\"fahrenheit\"><FormattedMessage id=\"temperature.scale.fahrenheit\" defaultMessage=\"Fahrenheit\" /></MenuItem>\n  </Select>\n);\n\nTemperatureScale.propTypes = {\n  changeTemperatureScale: PropTypes.func.isRequired,\n  temperatureScale: PropTypes.string.isRequired,\n};\n\nexport default TemperatureScale;\n","import { defineMessages } from 'react-intl';\n\nexport default defineMessages({\n  searchPlaceholder: {\n    id: 'search.placeholder',\n    defaultMessage: 'City',\n  },\n  searchButton: {\n    id: 'search.button',\n    defaultMessage: 'Get weather',\n  },\n})\n","import SearchLocation from './SearchLocation';\n\nexport default SearchLocation;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Input from '@material-ui/core/Input';\nimport Button from '@material-ui/core/Button';\nimport { FormattedMessage } from 'react-intl';\nimport messages from './messages';\n\n\nimport './SearchLocation.styles.css';\n\nconst SearchLocation = ({ cityOnChange, searchLocation }) => (\n  <div className=\"weather_search-panel\">\n    <FormattedMessage {...messages.searchPlaceholder}>\n      {\n          (placeholder) => (\n            <Input placeholder={placeholder} onChange={(event) => cityOnChange(event)} />\n          )\n        }\n    </FormattedMessage>\n\n    <Button variant=\"contained\" color=\"primary\" onClick={searchLocation}>\n      <FormattedMessage {...messages.searchButton} />\n    </Button>\n  </div>\n);\n\nSearchLocation.propTypes = {\n  cityOnChange: PropTypes.func.isRequired,\n  searchLocation: PropTypes.func.isRequired,\n};\n\n\nexport default SearchLocation;\n","import { defineMessages } from 'react-intl';\n\nexport default defineMessages({\n  getForecast: {\n    id: 'weather.getForecastButton',\n    defaultMessage: 'Forecast for 5 days',\n  },\n\n});","import NoDataView from './NoDataView';\n\nexport default NoDataView;","import React from 'react';\nimport { FormattedMessage } from 'react-intl';\n\nimport './NoDataView.styles.css';\n\nconst NoDataView = () => (\n  <div className=\"nodata-message\">\n    <FormattedMessage id=\"nodata.message\" defaultMessage=\"No data found according to your request. Please, change your request and try one more time.\" />\n  </div>\n);\n\nexport default NoDataView;\n","import React, { Component } from 'react';\nimport Button from '@material-ui/core/Button';\nimport { FormattedMessage } from \"react-intl\";\n\nimport CurrentConditions from '../CurrentConditions';\nimport Forecast from \"../Forecast\";\nimport TemperatureScale from '../TemperatureScale';\nimport { getDate, getTime, convertTemperature, createWeatherIconLink, formatTimeZone } from \"../../helpers/helper\";\nimport SearchLocation from \"../SearchLocation\";\n\nimport './Weather.styles.css';\nimport messages from './messages';\nimport NoDataView from \"../NoDataView\";\n\nrequire('dotenv').config();\n\nclass Weather extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      locationData: {\n        city: '',\n        locationKey: null,\n        country: '',\n        geoPosition: {},\n        region: '',\n        timeZone: '',\n      },\n      currentConditions: {},\n      temperatureScale: 'celsium',\n      forecastData: [],\n      locationFound: true,\n    };\n  }\n\n  cityOnChange = (e) => {\n    const city = e.target.value;\n    const { locationData } = this.state;\n    this.setState({ locationData: {\n      ...locationData,\n      city\n    } });\n  };\n\n  handleWeatherResponse = (city, data) => {\n    this.setState({\n      currentConditions: {\n        ...data[0],\n        currentCity: city,\n      },\n    });\n\n    const { forecastData } = this.state;\n\n    if(forecastData.length) {\n      this.getForecastFor5Days();\n    }\n  };\n\n  getWeatherData = async () => {\n    const { locationKey } = this.state.locationData;\n    const { language } = this.props;\n    const { city } = this.state.locationData;\n    const currentConditionsResponse = await fetch(`https://dataservice.accuweather.com/currentconditions/v1/${locationKey}?apikey=${process.env.REACT_APP_ACCUWEATHER_API_KEY}&language=${language}`)\n    const currentConditions = await currentConditionsResponse.json();\n    if (currentConditionsResponse.status === 200 && currentConditions.length) {\n      this.handleWeatherResponse(city, currentConditions);\n\n    } else {\n      const currentConditionsResponseEN = await fetch(`https://dataservice.accuweather.com/currentconditions/v1/${locationKey}?apikey=${process.env.REACT_APP_ACCUWEATHER_API_KEY}&language=en`)\n      const currentConditionsEN = await currentConditionsResponseEN.json();\n      if (currentConditionsResponseEN.status === 200 && currentConditionsEN.length) {\n        this.handleWeatherResponse(city, currentConditionsEN);\n      }\n    }\n  };\n\n  setLocationDataState = (city, data) => {\n    this.setState({\n      locationData: {\n        city: data[0].LocalizedName,\n        locationKey: data[0].Key,\n        country: data[0].Country.LocalizedName,\n        geoPosition: {\n          latitude: data[0].GeoPosition.Latitude,\n          longitude: data[0].GeoPosition.Longitude,\n        },\n        region: data[0].Region.LocalizedName,\n        timeZone: `${data[0].TimeZone.Name} ${formatTimeZone(data[0].TimeZone.GmtOffset)}`,\n      },\n      locationFound: true,\n    });\n    window.localStorage.setItem(`city`, city);\n    this.getWeatherData();\n  };\n\n\n  searchLocation = async (city, language) => {\n    const response = await fetch(`https://dataservice.accuweather.com/locations/v1/cities/search?apikey=${process.env.REACT_APP_ACCUWEATHER_API_KEY}&q=${city}&language=${language}`);\n    const cityData = await response.json();\n    if (response.status === 200 && cityData.length){\n        this.setLocationDataState(city, cityData);\n    } else {\n      // Try default search with english language\n      const responseEn = await fetch(`https://dataservice.accuweather.com/locations/v1/cities/search?apikey=${process.env.REACT_APP_ACCUWEATHER_API_KEY}&q=${city}&language=en`);\n      const cityDataEn = await responseEn.json();\n      if (response.status === 200 && cityDataEn.length) {\n        this.setLocationDataState(city, cityDataEn);\n      } else {\n        window.localStorage.removeItem(`city`);\n        this.setState({ locationFound: false })\n      }\n\n    }\n  };\n\n  onChageTemperatureScale = () => {\n    const { temperatureScale } = this.state;\n    this.setState({\n      temperatureScale: temperatureScale === 'celsium' ? 'fahrenheit' : 'celsium',\n    })\n  };\n\n  getCityName = async (data) => {\n    const { latitude, longitude } = data.coords;\n    const url = `https://api.opencagedata.com/geocode/v1/json?q=${latitude},${longitude}&key=1e58aa5d387545bd905c7a06768ce2be`;\n    const response = await fetch(url);\n    const responseData =await response.json();\n    if (responseData.results.length === 1) {\n      const currentCity = responseData.results[0].components.city;\n      this.setState({ locationData: { city: currentCity }})\n      window.localStorage.setItem('city', currentCity);\n      window.localStorage.setItem('language', 'en');\n      this.searchLocation(currentCity, 'en');\n    }\n  };\n\n  componentDidMount() {\n    const { language } = this.props;\n    const city = window.localStorage.getItem(`city${language}`);\n    if (city) {\n      const { locationData } = this.state;\n      this.setState({ locationData: {\n        ...locationData,\n        city\n      } }, () => this.searchLocation(city, language));\n    } else {\n      if (navigator.geolocation) {\n        navigator.geolocation.getCurrentPosition(this.getCityName);\n      } else {\n       console.log(\"Geolocation is not supported by this browser.\");\n      }\n    }\n  }\n\n  showLocationInfo = () => {\n    const { locationData } = this.state;\n    const { showLocationInfo } = this.props;\n    showLocationInfo(locationData);\n  };\n\n  getForecastFor5Days = async () => {\n    const { locationKey } = this.state.locationData;\n    const { language } = this.props;\n    const response = await fetch(`https://dataservice.accuweather.com/forecasts/v1/daily/5day/${locationKey}?apikey=${process.env.REACT_APP_ACCUWEATHER_API_KEY}&language=${language}`);\n    const forecastData = await response.json();\n\n    const data = forecastData.DailyForecasts.map(date => {\n      return {\n        date: getDate(date.Date),\n        time: getTime(date.Date),\n        temperature: {\n          fromF: date.Temperature.Minimum.Unit === 'F' ? `${date.Temperature.Minimum.Value}` : convertTemperature(date.Temperature.Minimum.Value, 'fahrenheit'),\n          fromC: date.Temperature.Minimum.Unit === 'C' ? `${date.Temperature.Minimum.Value}` : convertTemperature(date.Temperature.Minimum.Value,'celsium'),\n          toF: date.Temperature.Maximum.Unit === 'F' ? `${date.Temperature.Maximum.Value}` : convertTemperature(date.Temperature.Maximum.Value, 'fahrenheit'),\n          toC: date.Temperature.Maximum.Unit === 'C' ? `${date.Temperature.Maximum.Value}` : convertTemperature(date.Temperature.Maximum.Value,'celsium'),\n        },\n        dayIcon: {\n          picture: createWeatherIconLink(date.Day.Icon),\n          text: date.Day.IconPhrase,\n        },\n        nightIcon: {\n          picture: createWeatherIconLink(date.Night.Icon),\n          text: date.Night.IconPhrase,\n        }\n      }\n    });\n\n    this.setState({ forecastData: data });\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    if (this.props.language !== prevProps.language) {\n      const city = window.localStorage.getItem(`city${this.props.language}`);\n      if (city) {\n        this.searchLocation(city, this.props.language);\n      }\n    }\n  }\n\n\n  render() {\n    const { currentConditions, temperatureScale, locationData, forecastData, locationFound } = this.state;\n    const { country, city } = locationData;\n    const { language } = this.props;\n\n\n    return (\n      <div className=\"weather\">\n        <SearchLocation searchLocation={() => this.searchLocation(city, language)} cityOnChange={(e) => this.cityOnChange(e)}/>\n        {!locationFound && <NoDataView />}\n        {locationFound && !!Object.entries(currentConditions).length &&\n          <>\n            <CurrentConditions\n              city={currentConditions.currentCity}\n              country={country}\n              currentConditions={currentConditions}\n              temperatureScale={temperatureScale}\n              onChageTemperatureScale={this.onChageTemperatureScale}\n              showLocationInfo={this.showLocationInfo}\n            />\n            <Button variant=\"contained\" color=\"primary\" className=\"weather_data_forecast\" onClick={this.getForecastFor5Days}>\n              <FormattedMessage {...messages.getForecast} />\n            </Button>\n          </>\n        }\n        {locationFound && !!forecastData.length &&\n        <>\n          <TemperatureScale changeTemperatureScale={this.onChageTemperatureScale} temperatureScale={temperatureScale}/>\n          <Forecast forecast={forecastData} temperatureScale={temperatureScale} />\n        </>\n        }\n        </div>\n    );\n  }\n}\n\nexport default Weather;\n","import Weather from './Weather';\n\nexport default Weather;\n","import Settings from './Settings';\n\nexport default Settings;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Button } from '@material-ui/core';\nimport { FormattedMessage } from 'react-intl';\nimport Select from '@material-ui/core/Select';\nimport MenuItem from '@material-ui/core/MenuItem';\n\nimport './Settings.styles.css';\n\nconst Settings = ({\n  language, changeLanguage, getBackground, backgroundError,\n}) => (\n  <div className=\"settings\">\n    <Select\n      className=\"language-select\"\n      value={language}\n      onChange={(event) => changeLanguage(event.target.value)}\n    >\n      <MenuItem value=\"en\"><FormattedMessage id=\"language.english\" defaultMessage=\"English\" /></MenuItem>\n      <MenuItem value=\"ru\"><FormattedMessage id=\"language.russian\" defaultMessage=\"Russian\" /></MenuItem>\n    </Select>\n    {!backgroundError && (\n    <Button variant=\"outlined\" className=\"change-bg-btn\" onClick={getBackground}>\n      <FormattedMessage id=\"changeBackground.title\" defaultMessage=\"Change background\" />\n    </Button>\n    )}\n  </div>\n);\n\nSettings.propTypes = {\n  language: PropTypes.string.isRequired,\n  changeLanguage: PropTypes.func.isRequired,\n  getBackground: PropTypes.func.isRequired,\n  backgroundError: PropTypes.bool.isRequired,\n};\n\nexport default Settings;\n","import { defineMessages } from 'react-intl';\n\nexport default defineMessages({\n  location: {\n    id: 'locationData.location',\n    defaultMessage: 'Location',\n  },\n  region: {\n    id: 'locationData.region',\n    defaultMessage: 'Region',\n  },\n  timezone: {\n    id: 'locationData.timezone',\n    defaultMessage: 'Timezone',\n  },\n  geoposition: {\n    id: 'locationData.geoposition',\n    defaultMessage: 'Geoposition',\n  },\n  latitude: {\n    id: 'locationData.latitude',\n    defaultMessage: 'Latitude',\n  },\n  longitude: {\n    id: 'locationData.longitude',\n    defaultMessage: 'Longitude',\n  },\n});\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {\n  Table, TableBody, TableCell, TableContainer, TableRow, Icon,\n} from '@material-ui/core';\nimport { FormattedMessage } from 'react-intl';\n\nimport './LocationData.styles.css';\nimport messages from './messages';\n\nconst LocationData = ({ locationData, hideModal }) => {\n  const {\n    city, country, geoPosition, region, timeZone,\n  } = locationData;\n\n  const url = `https://www.google.com/maps/embed/v1/view?zoom=10&center=${geoPosition.latitude},${geoPosition.longitude}&key=${process.env.REACT_APP_GOOGLE_MAPS_KEY}`;\n\n  return (\n    <div className=\"location-data\">\n      <button className=\"location-data__close-icon\" type=\"button\" onClick={hideModal}>\n        <Icon>close</Icon>\n      </button>\n      <TableContainer className=\"location-data__table\">\n        <Table>\n          <TableBody>\n            <TableRow>\n              <TableCell component=\"th\" scope=\"row\"><FormattedMessage {...messages.location} /></TableCell>\n              <TableCell>\n                {city}\n                ,\n                {' '}\n                {country}\n              </TableCell>\n            </TableRow>\n            <TableRow>\n              <TableCell component=\"th\" scope=\"row\"><FormattedMessage {...messages.region} /></TableCell>\n              <TableCell>\n                {region}\n              </TableCell>\n            </TableRow>\n            <TableRow>\n              <TableCell component=\"th\" scope=\"row\"><FormattedMessage {...messages.timezone} /></TableCell>\n              <TableCell>\n                {timeZone}\n              </TableCell>\n            </TableRow>\n            <TableRow>\n              <TableCell component=\"th\" scope=\"row\"><FormattedMessage {...messages.geoposition} /></TableCell>\n              <TableCell>\n                <p>\n                  <FormattedMessage {...messages.latitude} />\n                  {': '}\n                  {geoPosition.latitude}\n                </p>\n                <p>\n                  <FormattedMessage {...messages.longitude} />\n                  {': '}\n                  {geoPosition.longitude}\n                </p>\n              </TableCell>\n            </TableRow>\n          </TableBody>\n        </Table>\n      </TableContainer>\n      <iframe title=\"google-map\" className=\"location-data__map\" src={url} allowFullScreen />\n    </div>\n\n  );\n};\n\nLocationData.propTypes = {\n  locationData: PropTypes.shape({\n    city: PropTypes.string.isRequired,\n    country: PropTypes.string.isRequired,\n    geoPosition: PropTypes.object.isRequired,\n    region: PropTypes.string.isRequired,\n    timeZone: PropTypes.string.isRequired,\n  }).isRequired,\n  hideModal: PropTypes.func.isRequired,\n};\n\nexport default LocationData;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport ReactDOM from 'react-dom';\nimport LocationData from '../LocationData/LocationData';\n\nconst modalRoot = document.getElementById('modal-root');\n\nclass Modal extends React.Component {\n  constructor(props) {\n    super(props);\n    this.el = document.createElement('div');\n  }\n\n  componentDidMount() {\n    modalRoot.appendChild(this.el);\n  }\n\n  componentWillUnmount() {\n    modalRoot.removeChild(this.el);\n  }\n\n  render() {\n    const { locationData, hideModal } = this.props;\n    return ReactDOM.createPortal(\n      <LocationData locationData={locationData} hideModal={hideModal} />,\n      this.el,\n    );\n  }\n}\n\nModal.propTypes = {\n  locationData: PropTypes.shape({\n    city: PropTypes.string.isRequired,\n    country: PropTypes.string.isRequired,\n    geoPosition: PropTypes.object.isRequired,\n    region: PropTypes.string.isRequired,\n    timeZone: PropTypes.string.isRequired,\n  }).isRequired,\n  hideModal: PropTypes.func.isRequired,\n};\n\nexport default Modal;\n","import Modal from './Modal';\n\nexport default Modal;","import React, { Component } from 'react';\nimport './App.css';\nimport Weather from './components/Weather';\nimport { IntlProvider } from 'react-intl';\nimport messagesRu from './translations/ru.json';\nimport messagesEn from './translations/en.json';\nimport Settings from \"./components/Settings\";\nimport Modal from './components/Modal';\n\nconst messages = {\n  ru: messagesRu,\n  en: messagesEn,\n};\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      background: '',\n      backgroundError: false,\n      language: 'en',\n      showModal: false,\n      locationData: {},\n    };\n  }\n\n  getBackground = () => {\n    const query = 'weather';\n    fetch(`https://api.unsplash.com/search/photos/?page=1&per_page=20&query=${query}&client_id=${process.env.REACT_APP_UNSPLASH_ACCESS_KEY}`)\n      .then((res) => res.json())\n      .then((data) => {\n        const image = data.results[Math.floor(Math.random() * 20)].urls.raw;\n        this.setState({ background: image });\n      })\n      .catch((error) => {\n        console.log(`Background image not loaded. Reason: ${error}`);\n        this.setState({ backgroundError: true });\n      });\n  };\n\n  componentDidMount() {\n    this.getBackground();\n    const language = window.localStorage.getItem('language');\n    if (language) {\n      this.setState({ language });\n    }\n  }\n\n  changeLanguage = (language) => {\n    this.setState({ language });\n    window.localStorage.setItem('language', language);\n  };\n\n  showLocationInfo = (data) => {\n    this.setState({\n      locationData: data,\n      showModal: true,\n    });\n  };\n\n  hideModal = () => {\n    this.setState({\n      showModal: false,\n    });\n  };\n\n  render() {\n    const { background, language, backgroundError, showModal, locationData } = this.state;\n\n    const backgroundPicture = {\n      backgroundImage: `url('${background}')`,\n      backgroundSize: 'cover',\n    };\n\n    return (\n      <IntlProvider locale={language} messages={messages[language]}>\n        <div className=\"App\" style={backgroundPicture}>\n          <Weather language={language} showLocationInfo={(data) => this.showLocationInfo(data)} />\n          <Settings language={language} changeLanguage={(lang) => this.changeLanguage(lang)} getBackground={this.getBackground} backgroundError={backgroundError} />\n          {showModal && <Modal locationData={locationData} hideModal={this.hideModal} />}\n        </div>\n      </IntlProvider>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nrequire('dotenv').config({ path: '../.env' });\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}